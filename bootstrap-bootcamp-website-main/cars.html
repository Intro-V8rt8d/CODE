<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Post</h1>
    <div id="post"></div>

    <script>
        async function fetchpost(){

            //Making the first request which will return the network information of the data as a response.
            const response = await fetch("http://localhost:3000/cars")
            //const response2 = await fetch('https://api.unsplash.com/search/photos?query=cars&client_id=gCGZEC0jdMYNZYiAPy87TIsaiRhQ8q98IDL16EiqDGg')
            //console.log(response)

            //Converting the response to json format, this triggers the second peomise which brings out real data as json.
            const result = await response.json()
            //const result2 = await response2.json();
            console.log(result)

            //Preparing the div and naming it as a container variable
            const container = document.getElementById('post')
            container.innerHTML = "";
            
            result.forEach(eachrecord => {
                //Programmatically create a new div
                const name = document.createElement('div')
                name.classList.add('eachrecord')
                name.innerHTML = `<h2>${eachrecord.id}) ${eachrecord.name}</h2>`

                //putting the new div and all its elements h2 and p inside the old div
                container.appendChild(name)
            });
            
        }
        fetchpost()
    </script>
</body>
</html>