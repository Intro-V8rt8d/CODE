<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sakura</title>
  <!-- Bootstrap CSS CDN -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <style>
    *{
      margin: 0;
    }
    body {
      background: linear-gradient(120deg, #111217 0%, #22252b 100%);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: #ffe0f9;
      /* padding-top: 70px; */
    }

    /* Navbar */
    .navbar-custom {
      background: #000000;
      box-shadow: none;
      position: fixed;
      top: 0;
      width: 100%;
      /* z-index: 1030; */
      /* padding-top: 4px;
      padding-bottom: 4px; */
      padding: 15px;
    }

    .navbar-brand-text {
      font-weight: 700;
      color: #ff47ab !important;
      font-size: 16px;
      margin-left: 8px;
      letter-spacing: 1px;
    }

    .ribbon-img {
      height: 26px;
      width: 26px;
      margin-right: 6px;
    }

    .nav-link {
      color: #d94996 !important;
      font-weight: 500;
      font-size: 15.52px;
      padding: 8px 16px;
      transition: color 0.3s;
    }
    .nav-link:hover {
      color: #ff47ab !important;
    }
    /* Hero Section */
    .hero-section {
      background: linear-gradient(120deg, #3d0c24 40%, #8e204a 100%);
      padding: 28.8px 3vw 20.8px 3vw;
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      border-radius: 0 !important;
      margin-top: 53px;
    }
    .hero-text {
      flex-grow: 1;
      max-width: 540px;
      padding-right: 2rem;
      min-width: 220px;
    }
    .hero-text h1 {
      font-weight: 700;
      font-size: 2rem;
      line-height: 1.18;
      color: #fff;
      margin-bottom: 0.7rem;
      user-select: none;
    }
    .highlight-pink {
      color: #ff47ab;
      font-weight: 800;
    }
    .hero-text p {
      color: #ffc0ee;
      font-size: 1rem;
      margin-top: 0.6rem;
      margin-bottom: 1.15rem;
      max-width: 450px;
      user-select: text;
    }
    .btn-predict {
      border-radius: 25px;
      font-size: 1.05rem;
      font-weight: 700;
      padding: 0.6rem 2rem;
      background: linear-gradient(90deg, #ff47ab 0%, #d94996 100%);
      color: white;
      border: none;
      transition: background 0.2s;
      user-select: none;
    }
    .btn-predict:hover {
      background: linear-gradient(90deg, #d94996 0%, #ff47ab 93%);
      color: #fff;
    }
    .btn-predict2{
      border-radius: 25px;
      font-size: 1.05rem;
      font-weight: 700;
      padding: 0.6rem 2rem;
      max-width: 212px;
      background: linear-gradient(90deg, #ff47ab 0%, #d94996 100%);
      color: white;
      border: none;
      transition: background 0.2s;
      user-select: none;
    }
    .hero-img-container {
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      min-width: 210px;
      width: 250px;
      max-width: 100vw;
      padding-top: 23px;    }
    .hero-img-body {
      width: 100%;
      height: auto;
      border-radius: 0;
      box-shadow: none;
      object-fit: contain;
      background: transparent;
      display: block;
    }

    /* Form section */
    .form-section {
      background-color: black;
      /* border-radius: 16px; */
      /* margin: 2.2rem auto 2rem auto; */
      padding: 32px 2vw 27px 2vw;
      /* box-shadow: 0 8px 30px rgba(255, 71, 171, 0.15); */
    }
    label {
      font-weight: 600;
      color: #ff47ab;
      font-size: 15px;
    }
    input.form-control {
      border-radius: 8px;
      border: 1px solid #ff47ab;
      box-shadow: none;
      font-size: 15px;
      padding: 6.08px 11px;
      background: #000000;
      color: #fff;
    }
    input.form-control:focus {
      border-color: #ff47ab;
      /* box-shadow: 0 0 3px #f995d6; */
      outline: none;
      background: #22152a;
    }
    #result {
      margin-top: 1.2rem;
      font-weight: 700;
      font-size: 1.05rem;
      color: #ff47ab;
      min-height: 27px;
      user-select: none;
    }

    /* Responsive tweaks */
    @media (max-width: 991.98px) {
      .hero-section {
        flex-direction: column;
        padding: 1.3rem 4vw;
        align-items: flex-start;
      }
      .hero-text {
        padding-right: 0;
        max-width: 100%;
        margin-bottom: 1.2rem;
      }
      .hero-img-container {
        width: 90vw;
        margin-top: 24px;
        margin-bottom: 16px;
      }
    }
    @media (max-width: 767.98px) {
      .hero-section {
        padding: 1.2rem 2vw 0.7rem 2vw;
      }
      .hero-text h1 {
        font-size: 1.25rem;
      }
      .btn-predict, .btn-gradient {
        width: 100%;
        font-size: 0.98rem;
      }
    }
    @media (max-width: 520px) {
      .form-section {
        padding: 14.4px 4.8px 16px 4.8px;
      }
      .hero-img-container {
        width: 99vw;
        display: none;
      }
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg fixed-top navbar-custom">
    <div class="container-fluid px-2 justify-content-center">
      <a class="navbar-brand d-flex align-items-center gap-2 p-0" href="#">
        <img src="{{ url_for('static', filename='pink-ribbon.png') }}" alt="Pink Ribbon" class="ribbon-img" />
        <span class="navbar-brand-text">Sakura</span>
      </a>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero-section">
    <div class="hero-text">
      <h1>
        Breast Cancer <br />
        From <span class="highlight-pink">Awareness</span> <br />
        to <span class="highlight-pink">Action</span>
      </h1>
      <p>
        Set up personalized predictions using real data for early detection and awareness.<br />
        Let us support effective action for breast cancer prevention and care.
      </p>
      <button id="btnPredict" class="btn-predict" onclick="document.getElementById('form-section').scrollIntoView({behavior: 'smooth'});">
        Predict Now
      </button>
    </div>
    <div class="hero-img-container">
      <img src="{{ url_for('static', filename='3D-Breast.jpg') }}" alt="Breast Cancer Awareness Body" class="hero-img-body rounded img-fluid" />
  </section>

  <!-- Form Section -->
  <section id="form-section" class="form-section">
    <form id="prediction-form" class="row g-3">
      <div class="col-md-6">
        <label for="radius_mean">Average Tumor Radius</label>
        <input type="number" step="any" id="radius_mean" name="radius_mean" class="form-control" required />
      </div>
      <div class="col-md-6">
        <label for="texture_mean">Average Tumor Texture</label>
        <input type="number" step="any" id="texture_mean" name="texture_mean" class="form-control" required />
      </div>
      <div class="col-md-6">
        <label for="perimeter_mean">Average Tumor Perimeter</label>
        <input type="number" step="any" id="perimeter_mean" name="perimeter_mean" class="form-control" required />
      </div>
      <div class="col-md-6">
        <label for="area_mean">Average Tumor Area</label>
        <input type="number" step="any" id="area_mean" name="area_mean" class="form-control" required />
      </div>
      <div class="col-md-6">
        <label for="concavity_mean">Average Edge Curvature</label>
        <input type="number" step="any" id="concavity_mean" name="concavity_mean" class="form-control" required />
      </div>
      <div class="col-md-6">
        <label for="smoothness_mean">Average Tumor Smoothness</label>
        <input type="number" step="any" id="smoothness_mean" name="smoothness_mean" class="form-control" required />
      </div>
      <div class="col-md-6">
        <label for="concave_points_mean">Average Number of Curves</label>
        <input type="number" step="any" id="concave_points_mean" name="concave points_mean" class="form-control" required />
      </div>
      <div class="col-md-6">
        <label for="radius_worst">Largest Tumor Radius</label>
        <input type="number" step="any" id="radius_worst" name="radius_worst" class="form-control" required />
      </div>
      <div class="col-md-6">
        <label for="perimeter_worst">Largest Tumor Perimeter</label>
        <input type="number" step="any" id="perimeter_worst" name="perimeter_worst" class="form-control" required />
      </div>
      <div class="col-md-6">
        <label for="area_worst">Largest Tumor Area</label>
        <input type="number" step="any" id="area_worst" name="area_worst" class="form-control" required />
      </div>
      <div class="col-12 d-flex justify-content-center">
        <button class="btn-predict2 w-100" type="submit">Predict</button>
      </div>
    </form>
    <div id="result" class=""></div>
  </section>

  <!-- Bootstrap JS Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const form = document.getElementById('prediction-form');
      const resultDiv = document.getElementById('result');
      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        const formData = new FormData(form);
        const data = {};
        for (const [key, value] of formData.entries()) {
          if (!value || isNaN(value)) {
            resultDiv.textContent = `Invalid input for ${key}`;
            return;
          }
          data[key] = parseFloat(value);
        }
        resultDiv.textContent = '';
        try {
          const response = await fetch('/predict', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(data),
          });
          const resJson = await response.json();
          if (resJson.status === 'success') {
            resultDiv.textContent = `Prediction: ${resJson.prediction}`;
          } else {
            resultDiv.textContent = `Error: ${resJson.message}`;
          }
        } catch (error) {
          resultDiv.textContent = 'Error sending prediction request.';
        }
      });
    });
  </script>
</body>
</html>